<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng Tin Bán Xe & Pin Điện Cũ</title>
    <!-- Tải Tailwind CSS cho styling hiện đại và responsive -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Cài đặt Font Inter -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link rel="stylesheet" href="/css/navbar.css" />
    <link rel="stylesheet" href="/css/Product_Listings.css" />
  </head>
  <body class="bg-gray-50">
    <header class="navbar">
      <div class="container">
        <a href="/index.html"
          ><div class="logo">
            <span class="logo-icon">EV</span>
            <span class="logo-text">Second-hand EV</span>
          </div>
        </a>
        <nav class="nav-links">
          <a href="#">Tìm kiếm</a>
          <a href="#">Thể loại</a>
          <a href="#">Thương hiệu</a>
          <a href="/compare.html">So sánh</a>
          <a href="#">Hỗ trợ</a>
        </nav>
        <div class="nav-actions">
          <a href="/liked.html" class="nav-icon"
            ><i class="far fa-heart"></i
          ></a>
          <a href="#" class="nav-icon"><i class="far fa-bell"></i></a>
          <a href="/login.html" class="btn btn-secondary">ĐĂNG NHẬP</a>
          <a href="/profile.html" class="user-icon"
            ><i class="far fa-user-circle"></i
          ></a>
        </div>
      </div>
    </header>

    <div
      class="max-w-4xl mx-auto bg-white rounded-xl container-shadow p-6 sm:p-10"
    >
      <!-- Header Section -->
      <header class="mb-8 border-b pb-4">
        <h1
          class="text-3xl sm:text-4xl font-extrabold text-gray-800 tracking-tight"
        >
          Đăng Bán Xe Điện & Pin Đã Qua Sử Dụng
        </h1>
        <p class="text-gray-500 mt-2 text-lg">
          Điền thông tin chi tiết để tin rao vặt của bạn tiếp cận hàng ngàn
          người mua tiềm năng.
        </p>
      </header>

      <!-- Main Form -->
      <form id="sellForm" onsubmit="handleFormSubmit(event)">
        <!-- Step 1: Chọn loại sản phẩm -->
        <div class="mb-8">
          <h2
            class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-green-500 pl-3"
          >
            1.Chọn Loại Sản Phẩm Đăng Bán
          </h2>
          <div class="flex flex-wrap gap-4" id="productTypeSelector">
            <button
              type="button"
              data-type="car"
              class="product-type-btn bg-white text-gray-700 border-2 border-gray-200 py-3 px-6 rounded-full font-semibold transition hover:bg-green-50 hover:border-green-500 focus:outline-none focus:ring-4 focus:ring-green-100"
            >
              Ô Tô Điện
            </button>
            <button
              type="button"
              data-type="motorbike"
              class="product-type-btn bg-white text-gray-700 border-2 border-gray-200 py-3 px-6 rounded-full font-semibold transition hover:bg-green-50 hover:border-green-500 focus:outline-none focus:ring-4 focus:ring-green-100"
            >
              Xe Máy Điện
            </button>
            <button
              type="button"
              data-type="bike"
              class="product-type-btn bg-white text-gray-700 border-2 border-gray-200 py-3 px-6 rounded-full font-semibold transition hover:bg-green-50 hover:border-green-500 focus:outline-none focus:ring-4 focus:ring-green-100"
            >
              Xe Đạp Điện
            </button>
            <button
              type="button"
              data-type="battery"
              class="product-type-btn bg-white text-gray-700 border-2 border-gray-200 py-3 px-6 rounded-full font-semibold transition hover:bg-green-50 hover:border-green-500 focus:outline-none focus:ring-4 focus:ring-green-100"
            >
              Pin Đã Qua Sử Dụng
            </button>
          </div>
        </div>

        <!-- Step 2: Thông tin chi tiết (Responsive Grid) -->
        <div class="space-y-6 mb-8">
          <h2
            class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-green-500 pl-3"
          >
            2. Chi Tiết Sản Phẩm
          </h2>

          <div class="grid grid-cols-1 gap-6 grid-responsive">
            <!-- Tên sản phẩm -->
            <div class="col-span-full">
              <label
                for="title"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Tiêu Đề Rao Vặt <span class="text-red-500">*</span></label
              >
              <input
                type="text"
                id="title"
                name="title"
                placeholder="Ví dụ: Pega eSH 2023, mới 99%, pin còn bảo hành"
                required
                class="form-input w-full p-3 border rounded-lg focus:ring-green-500 focus:border-green-500"
              />
            </div>

            <!-- Loại xe/pin (sẽ được tự động điền) -->
            <div class="col-span-full">
              <label
                for="category"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Danh Mục Đã Chọn</label
              >
              <input
                type="text"
                id="category"
                name="category"
                value="Chưa chọn"
                readonly
                class="form-input w-full p-3 border rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed"
              />
            </div>
          </div>

          <!-- CÁC TRƯỜNG CHUNG CHO CẢ XE VÀ PIN (ẨN/HIỆN DỰA TRÊN JS) -->
          <div
            id="commonFieldsWrapper"
            class="grid grid-cols-1 gap-6 grid-responsive pt-4 border-t mt-6 border-gray-100"
          >
            <!-- Hãng Sản Xuất (brand) -->
            <div id="brandField">
              <label
                for="brand"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Hãng Sản Xuất <span class="text-red-500">*</span></label
              >
              <input
                type="text"
                id="brand"
                name="brand"
                placeholder="Ví dụ: VinFast, Tesla, Pega, Yadea,..."
                required
                class="form-input w-full p-3 border rounded-lg focus:ring-green-500 focus:border-green-500"
              />
            </div>

            <!-- Năm sản xuất (year_of_manufacture) -->
            <div id="yearField">
              <label
                for="year"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Năm Sản Xuất <span class="text-red-500">*</span></label
              >
              <input
                type="number"
                id="year"
                name="year_of_manufacture"
                min="2000"
                max="2025"
                placeholder="2023"
                class="form-input w-full p-3 border rounded-lg focus:ring-green-500 focus:border-green-500"
              />
            </div>

            <!-- Tình trạng (condition_id) -->
            <div>
              <label
                for="condition"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Tình Trạng Chung <span class="text-red-500">*</span></label
              >
              <select
                id="condition"
                name="condition_id"
                required
                class="form-select w-full p-3 border rounded-lg bg-white focus:ring-green-500 focus:border-green-500"
              >
                <option value="">-- Chọn tình trạng --</option>
                <option value="1">Mới 99% (Lướt)</option>
                <option value="2">Tốt (Đã sử dụng)</option>
                <option value="3">Trung bình (Cần bảo dưỡng)</option>
                <option value="4">Kém (Cần sửa chữa)</option>
              </select>
            </div>

            <!-- Giá bán (price) -->
            <div>
              <label
                for="price"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Giá Bán (VNĐ) <span class="text-red-500">*</span></label
              >
              <input
                type="number"
                id="price"
                name="price"
                min="0"
                placeholder="150000000"
                required
                class="form-input w-full p-3 border rounded-lg focus:ring-green-500 focus:border-green-500"
              />
            </div>
          </div>

          <!-- CÁC TRƯỜNG KỸ THUẬT RIÊNG (SPECIFIC FIELDS) -->
          <div
            id="specificFields"
            class="grid grid-cols-1 gap-6 grid-responsive pt-4 border-t mt-6 border-gray-100"
          >
            <!-- Các trường riêng sẽ được thêm bằng JS -->
          </div>

          <!-- Mô tả chi tiết (description) -->
          <div class="col-span-full">
            <label
              for="description"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Mô Tả Chi Tiết Sản Phẩm
              <span class="text-red-500">*</span></label
            >
            <textarea
              id="description"
              name="description"
              rows="4"
              placeholder="Ví dụ: Xe chạy mượt, pin còn 5 năm bảo hành, tình trạng như mới. Sẵn sàng test trước khi mua. "
              required
              class="form-textarea w-full p-3 border rounded-lg focus:ring-green-500 focus:border-green-500"
            ></textarea>
          </div>
        </div>

        <!-- Step 3: Hình ảnh và liên hệ -->
        <div class="space-y-6 mb-8">
          <h2
            class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-green-500 pl-3"
          >
            3. Hình Ảnh & Liên Hệ
          </h2>

          <!-- Tải ảnh -->
          <div class="col-span-full">
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Tải Ảnh Lên (Tối đa 5 ảnh)
              <span class="text-red-500">*</span></label
            >
            <input
              type="file"
              id="imageUpload"
              name="images"
              accept="image/*"
              multiple
              required
              class="hidden"
              onchange="previewImages()"
            />

            <label for="imageUpload" class="file-input-label">
              <div class="text-center">
                <!-- Icon Camera/Upload -->
                <svg
                  class="mx-auto h-12 w-12 text-gray-400"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 18m-4.757-4.757v4.757M16 16h4.757m-4.757-4.757h4.757"
                  />
                </svg>
                <span class="mt-2 block text-sm font-medium text-gray-600">
                  Kéo thả ảnh hoặc
                  <span class="text-green-600 font-semibold"
                    >Bấm để chọn file</span
                  >
                </span>
                <span class="text-xs text-gray-400"
                  >JPG, PNG, tối đa 5MB/ảnh</span
                >
              </div>
            </label>
            <div id="imagePreview" class="mt-4 grid grid-cols-5 gap-3">
              <!-- Ảnh sẽ được hiển thị ở đây -->
            </div>
          </div>

          <!-- Thông tin liên hệ -->
          <div class="grid grid-cols-1 gap-6 grid-responsive">
            <div>
              <label
                for="phone"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Số Điện Thoại <span class="text-red-500">*</span></label
              >
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="09xxxxxxxx"
                required
                class="form-input w-full p-3 border rounded-lg focus:ring-green-500 focus:border-green-500"
              />
            </div>
            <div>
              <label
                for="location"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Khu Vực Giao Dịch <span class="text-red-500">*</span></label
              >
              <input
                type="text"
                id="location"
                name="location"
                placeholder="Quận 1, TP.HCM"
                required
                class="form-input w-full p-3 border rounded-lg focus:ring-green-500 focus:border-green-500"
              />
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="pt-6 border-t border-gray-200">
          <button
            type="submit"
            class="w-full bg-green-600 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-green-700 transition duration-300 focus:outline-none focus:ring-4 focus:ring-green-200"
          >
            ĐĂNG TIN BÁN NGAY
          </button>
        </div>

        <!-- Message Box (Thế cho alert) -->
        <div
          id="messageBox"
          class="mt-4 p-4 border rounded-lg hidden"
          role="alert"
        ></div>
      </form>
    </div>
    <!-- Footer -->
    <footer class="main-footer">
      <div class="footer-top-info">
        <div class="container info-grid">
          <div class="info-item">
            <i class="fas fa-shield-alt"></i>
            <h4>An toàn tuyệt đối</h4>
            <p>Giao dịch được bảo vệ 100%</p>
          </div>
          <div class="info-item">
            <i class="fas fa-money-check-alt"></i>
            <h4>Thanh toán linh hoạt</h4>
            <p>Đa dạng phương thức thanh toán</p>
          </div>
          <div class="info-item">
            <i class="fas fa-certificate"></i>
            <h4>Chất lượng đảm bảo</h4>
            <p>Xe và pin được kiểm định kỹ lưỡng</p>
          </div>
          <div class="info-item">
            <i class="fas fa-headset"></i>
            <h4>Hỗ trợ 24/7</h4>
            <p>Tư vấn và hỗ trợ mọi lúc</p>
          </div>
        </div>
      </div>

      <div class="footer-main-links">
        <div class="container footer-grid">
          <div class="footer-info">
            <div class="logo">
              <span class="logo-icon">EV</span>
              <span class="logo-text">Second-hand EV</span>
            </div>
            <p>
              Nền tảng giao dịch xe điện và pin cũ trên toàn Việt Nam. Chung tay
              kết nối những người mua và người bán một cách an toàn, minh bạch
              và hiệu quả.
            </p>
            <p><i class="fas fa-phone-alt"></i> 1900 2024</p>
            <p><i class="fas fa-envelope"></i> support@secondhandev.com</p>
            <p>
              <i class="fas fa-map-marker-alt"></i> 123 Đường ABC, Quận XYZ, TP.
              Hà Nội
            </p>
            <div class="social-icons">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
          </div>

          <div class="footer-links">
            <h4>VỀ CHÚNG TÔI</h4>
            <ul>
              <li><a href="#">Giới thiệu</a></li>
              <li><a href="#">Đội ngũ</a></li>
              <li><a href="#">Tin tức</a></li>
              <li><a href="#">Tuyển dụng</a></li>
            </ul>
          </div>
          <div class="footer-links">
            <h4>DỊCH VỤ</h4>
            <ul>
              <li><a href="#">Mua xe điện</a></li>
              <li><a href="#">Bán xe điện</a></li>
              <li><a href="#">Định giá xe</a></li>
              <li><a href="#">Tư vấn chuyển giao</a></li>
            </ul>
          </div>
          <div class="footer-links">
            <h4>HỖ TRỢ</h4>
            <ul>
              <li><a href="#">Trung tâm giúp</a></li>
              <li><a href="#">Hướng dẫn sử dụng</a></li>
              <li><a href="#">Chính sách bảo hành</a></li>
              <li><a href="#">Liên hệ hỗ trợ</a></li>
            </ul>
          </div>
          <div class="footer-links">
            <h4>PHÁP LÝ</h4>
            <ul>
              <li><a href="#">Điều khoản sử dụng</a></li>
              <li><a href="#">Chính sách bán hàng</a></li>
              <li><a href="#">Chính sách hoàn tiền</a></li>
              <li><a href="#">Quy định giao dịch</a></li>
              <li><a href="#">Báo cáo vi phạm</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="container footer-bottom-content">
          <div class="subscription-box">
            <h4>Đăng ký nhận tin</h4>
            <p>
              Nhận thông tin về xe điện mới nhất, khuyến mãi đặc biệt và tin tức
              thị trường.
            </p>
            <div class="subscribe-form">
              <input type="email" placeholder="Nhập địa chỉ email của bạn" />
              <button class="btn btn-primary">Đăng ký</button>
            </div>
          </div>
          <div class="copyright-text">
            <p>© 2023 Second EV Platform. Tất cả quyền được bảo lưu.</p>
            <div class="small-links">
              <a href="#">Sitemap</a>
              <a href="#">FAQ</a>
              <a href="#">Accessibility</a>
              <a href="#">Cookie Settings</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <script src="/js/Product_Listings.js"></script>
  </body>
</html>
